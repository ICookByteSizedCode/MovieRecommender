{"ast":null,"code":"var _jsxFileName = \"/Users/stavkinreich/Desktop/Stav/CS520/COMPSCI520PROJECT3/frontend/src/pages/UserLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Navbar from '../components/Navbar/Navbar.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserLogin() {\n  _s();\n  const navigate = useNavigate();\n  const [userInfo, setUserInfo] = useState({\n    email: '',\n    password: ''\n  });\n  const [exceptions, setExceptions] = useState({});\n  const handleInfo = event => {\n    setUserInfo(before => ({\n      ...before,\n      [event.target.name]: event.target.value\n    }));\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    var request = new Request('http://localhost:3001/api/loginUser', {\n      method: 'POST',\n      headers: new Headers({\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify(userInfo)\n    });\n    fetch(request).then(function (response) {\n      response.json().then(function (data) {\n        if (data.message === 0) {\n          setExceptions({\n            internal: \"internalError\"\n          });\n        }\n        if (data.message === 1) {\n          setExceptions({\n            data: \"dataError\"\n          });\n        }\n        if (data.message === 2) {\n          setExceptions({\n            validate: \"validateError\"\n          });\n        }\n        if (data.message === 3) {\n          globalThis.userName = userInfo.email;\n          globalThis.prefLang = data.retObj.prefLang;\n          globalThis.prefMov = data.retObj.prefMov;\n          globalThis.prefGen = data.retObj.prefGen;\n          globalThis.prefMovId = data.retObj.prefmovid;\n          navigate('/');\n        }\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center vh-100\",\n      style: {\n        backgroundColor: \"#3E2751\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-3 rounded w-25\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-center\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 text-center\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              placeholder: \"Enter Your Email\",\n              className: \"form-control rounded-0\",\n              onChange: handleInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Enter Your Password\",\n              className: \"form-control rounded-0\",\n              onChange: handleInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), exceptions.data && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Email and/or password are not correct\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 37\n          }, this), exceptions.internal && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Internal Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 41\n          }, this), exceptions.validate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"User is not validated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success w-100\",\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Register\",\n            className: \"btn btn-default border w-100 bg-light text-decoration-none\",\n            children: \"Not A User? Register Here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 3\n  }, this);\n}\n_s(UserLogin, \"QX1ucYSwA3RnxC7fvmb/UZRC7xo=\", false, function () {\n  return [useNavigate];\n});\n_c = UserLogin;\nexport default UserLogin;\nvar _c;\n$RefreshReg$(_c, \"UserLogin\");","map":{"version":3,"names":["React","useState","Link","useNavigate","Navbar","jsxDEV","_jsxDEV","UserLogin","_s","navigate","userInfo","setUserInfo","email","password","exceptions","setExceptions","handleInfo","event","before","target","name","value","handleSubmit","preventDefault","request","Request","method","headers","Headers","body","JSON","stringify","fetch","then","response","json","data","message","internal","validate","globalThis","userName","prefLang","retObj","prefMov","prefGen","prefMovId","prefmovid","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","backgroundColor","action","onSubmit","htmlFor","type","placeholder","onChange","to","_c","$RefreshReg$"],"sources":["/Users/stavkinreich/Desktop/Stav/CS520/COMPSCI520PROJECT3/frontend/src/pages/UserLogin.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {Link, useNavigate} from 'react-router-dom';\nimport Navbar from '../components/Navbar/Navbar.js'\nfunction UserLogin() {\n    const navigate = useNavigate();\n    const [userInfo, setUserInfo] = useState({\n        email: '',\n        password: ''\n    });\n    const [exceptions, setExceptions] = useState({});\n    const handleInfo = (event) => {\n        setUserInfo(before => ({...before, [event.target.name]: event.target.value}))\n    }\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        var request = new Request('http://localhost:3001/api/loginUser', {\n                        method: 'POST',\n                        headers: new Headers({'Content-Type': 'application/json'}),\n                        body: JSON.stringify(userInfo)\n                    })\n                    fetch(request)\n                        .then(function(response) {\n                            response.json()\n                                .then(function(data) {\n                                    if(data.message === 0) {\n                                        setExceptions({internal: \"internalError\"});\n                                    }\n                                    if(data.message === 1) {\n                                        setExceptions({data: \"dataError\"});\n                                    }\n                                    if(data.message === 2) {\n                                        setExceptions({validate: \"validateError\"});\n                                    }\n                                    if(data.message === 3) {\n                                        globalThis.userName = userInfo.email;\n                                        globalThis.prefLang = data.retObj.prefLang;\n                                        globalThis.prefMov = data.retObj.prefMov;\n                                        globalThis.prefGen = data.retObj.prefGen;\n                                        globalThis.prefMovId = data.retObj.prefmovid;\n                                        navigate('/');\n                                    }\n                                });\n                        });\n    }\n  return (\n  <div>\n    <Navbar/>\n    <div className=\"d-flex justify-content-center align-items-center vh-100\" style={{backgroundColor: \"#3E2751\"}}>\n        <div className=\"bg-white p-3 rounded w-25\">\n        <h1 className=\"text-center\">Login</h1>\n            <form action=\"\" onSubmit={handleSubmit}>\n                <div className=\"mb-3 text-center\" onSubmit={handleSubmit}>\n                    <label htmlFor=\"email\"><strong>Email</strong></label>\n                    <input type=\"email\" name=\"email\" placeholder=\"Enter Your Email\" className=\"form-control rounded-0\" onChange={handleInfo}/>\n                </div>\n                <div className=\"mb-3 text-center\">\n                    <label htmlFor=\"password\"><strong>Password</strong></label>\n                    <input type=\"password\" name=\"password\" placeholder=\"Enter Your Password\" className=\"form-control rounded-0\" onChange={handleInfo}/>\n                </div>\n                {exceptions.data && <span className=\"text-danger\">Email and/or password are not correct</span>}\n                {exceptions.internal && <span className=\"text-danger\">Internal Error</span>}\n                {exceptions.validate && <span className=\"text-danger\">User is not validated</span>}\n                <button className=\"btn btn-success w-100\">Log In</button>\n                <p></p>\n                <Link to=\"/Register\" className=\"btn btn-default border w-100 bg-light text-decoration-none\">Not A User? Register Here</Link>\n            </form>\n        </div>\n    </div>\n  </div>\n  )\n}\n\nexport default UserLogin;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AACrC,SAAQC,IAAI,EAAEC,WAAW,QAAO,kBAAkB;AAClD,OAAOC,MAAM,MAAM,gCAAgC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACnD,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IACrCW,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACd,CAAC,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAMe,UAAU,GAAIC,KAAK,IAAK;IAC1BN,WAAW,CAACO,MAAM,KAAK;MAAC,GAAGA,MAAM;MAAE,CAACD,KAAK,CAACE,MAAM,CAACC,IAAI,GAAGH,KAAK,CAACE,MAAM,CAACE;IAAK,CAAC,CAAC,CAAC;EACjF,CAAC;EACD,MAAMC,YAAY,GAAIL,KAAK,IAAK;IAC5BA,KAAK,CAACM,cAAc,CAAC,CAAC;IACtB,IAAIC,OAAO,GAAG,IAAIC,OAAO,CAAC,qCAAqC,EAAE;MACjDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE,IAAIC,OAAO,CAAC;QAAC,cAAc,EAAE;MAAkB,CAAC,CAAC;MAC1DC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACrB,QAAQ;IACjC,CAAC,CAAC;IACFsB,KAAK,CAACR,OAAO,CAAC,CACTS,IAAI,CAAC,UAASC,QAAQ,EAAE;MACrBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CACVF,IAAI,CAAC,UAASG,IAAI,EAAE;QACjB,IAAGA,IAAI,CAACC,OAAO,KAAK,CAAC,EAAE;UACnBtB,aAAa,CAAC;YAACuB,QAAQ,EAAE;UAAe,CAAC,CAAC;QAC9C;QACA,IAAGF,IAAI,CAACC,OAAO,KAAK,CAAC,EAAE;UACnBtB,aAAa,CAAC;YAACqB,IAAI,EAAE;UAAW,CAAC,CAAC;QACtC;QACA,IAAGA,IAAI,CAACC,OAAO,KAAK,CAAC,EAAE;UACnBtB,aAAa,CAAC;YAACwB,QAAQ,EAAE;UAAe,CAAC,CAAC;QAC9C;QACA,IAAGH,IAAI,CAACC,OAAO,KAAK,CAAC,EAAE;UACnBG,UAAU,CAACC,QAAQ,GAAG/B,QAAQ,CAACE,KAAK;UACpC4B,UAAU,CAACE,QAAQ,GAAGN,IAAI,CAACO,MAAM,CAACD,QAAQ;UAC1CF,UAAU,CAACI,OAAO,GAAGR,IAAI,CAACO,MAAM,CAACC,OAAO;UACxCJ,UAAU,CAACK,OAAO,GAAGT,IAAI,CAACO,MAAM,CAACE,OAAO;UACxCL,UAAU,CAACM,SAAS,GAAGV,IAAI,CAACO,MAAM,CAACI,SAAS;UAC5CtC,QAAQ,CAAC,GAAG,CAAC;QACjB;MACJ,CAAC,CAAC;IACV,CAAC,CAAC;EACtB,CAAC;EACH,oBACAH,OAAA;IAAA0C,QAAA,gBACE1C,OAAA,CAACF,MAAM;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACT9C,OAAA;MAAK+C,SAAS,EAAC,yDAAyD;MAACC,KAAK,EAAE;QAACC,eAAe,EAAE;MAAS,CAAE;MAAAP,QAAA,eACzG1C,OAAA;QAAK+C,SAAS,EAAC,2BAA2B;QAAAL,QAAA,gBAC1C1C,OAAA;UAAI+C,SAAS,EAAC,aAAa;UAAAL,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClC9C,OAAA;UAAMkD,MAAM,EAAC,EAAE;UAACC,QAAQ,EAAEnC,YAAa;UAAA0B,QAAA,gBACnC1C,OAAA;YAAK+C,SAAS,EAAC,kBAAkB;YAACI,QAAQ,EAAEnC,YAAa;YAAA0B,QAAA,gBACrD1C,OAAA;cAAOoD,OAAO,EAAC,OAAO;cAAAV,QAAA,eAAC1C,OAAA;gBAAA0C,QAAA,EAAQ;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACrD9C,OAAA;cAAOqD,IAAI,EAAC,OAAO;cAACvC,IAAI,EAAC,OAAO;cAACwC,WAAW,EAAC,kBAAkB;cAACP,SAAS,EAAC,wBAAwB;cAACQ,QAAQ,EAAE7C;YAAW;cAAAiC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzH,CAAC,eACN9C,OAAA;YAAK+C,SAAS,EAAC,kBAAkB;YAAAL,QAAA,gBAC7B1C,OAAA;cAAOoD,OAAO,EAAC,UAAU;cAAAV,QAAA,eAAC1C,OAAA;gBAAA0C,QAAA,EAAQ;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3D9C,OAAA;cAAOqD,IAAI,EAAC,UAAU;cAACvC,IAAI,EAAC,UAAU;cAACwC,WAAW,EAAC,qBAAqB;cAACP,SAAS,EAAC,wBAAwB;cAACQ,QAAQ,EAAE7C;YAAW;cAAAiC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClI,CAAC,EACLtC,UAAU,CAACsB,IAAI,iBAAI9B,OAAA;YAAM+C,SAAS,EAAC,aAAa;YAAAL,QAAA,EAAC;UAAqC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC7FtC,UAAU,CAACwB,QAAQ,iBAAIhC,OAAA;YAAM+C,SAAS,EAAC,aAAa;YAAAL,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC1EtC,UAAU,CAACyB,QAAQ,iBAAIjC,OAAA;YAAM+C,SAAS,EAAC,aAAa;YAAAL,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClF9C,OAAA;YAAQ+C,SAAS,EAAC,uBAAuB;YAAAL,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACzD9C,OAAA;YAAA2C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACP9C,OAAA,CAACJ,IAAI;YAAC4D,EAAE,EAAC,WAAW;YAACT,SAAS,EAAC,4DAA4D;YAAAL,QAAA,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1H,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAER;AAAC5C,EAAA,CAnEQD,SAAS;EAAA,QACGJ,WAAW;AAAA;AAAA4D,EAAA,GADvBxD,SAAS;AAqElB,eAAeA,SAAS;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}