{"ast":null,"code":"import React,{useState}from'react';import Header from'../components/Header/Header.js';import Navbar from'../components/Navbar/Navbar.js';import Footer from'../components/Footer/Footer.js';import MovieRecommender from'../components/MovieRecommender/MovieRecommender.js';import RecommendedMovies from'./RecommendedMovies.js';import ScrollableSection from'../components/ScrollableSection/ScrollableSection.js';import styles from'../components/MovieRecommender/MovieRecommender.module.css';import SearchMovie from'./SearchMovie';//issue with category container currently- basically should be horizontally scrollable row, like on netflix\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Landing(){const[trigRender,setTrigRender]=useState(0);const[checkedGenres,setCheckedGenres]=useState([]);const[checkedLanguage,setCheckedLanguages]=useState([]);const genres=globalThis.prefGen===null||globalThis.prefGen===undefined?[]:[...new Set(globalThis.prefGen.map(g=>JSON.stringify(g)))].map(g=>JSON.parse(g));const languages=globalThis.prefLang===null||globalThis.prefLang===undefined?[]:[...new Set(globalThis.prefLang)];const handleCheckLanguageChange=event=>{const{value,checked}=event.target;if(checked){setCheckedLanguages([...checkedLanguage,value]);}else{setCheckedLanguages(checkedLanguage.filter(item=>item!==value));};};// const arrayIncludesObject = (array, object) => array.some(item => isEqual(item, object));\n// const handleCheckGenreChange = (event) => {\n//    const checkedId = event.target.value;\n//    if(event.target.checked){\n//     setCheckedGenres([...checkedGenres, JSON.parse(checkedId)])\n//    }else{\n//     setCheckedGenres(checkedGenres.filter(id=> id[\"id\"] !== JSON.parse(checkedId)[\"id\"]))\n//    }\n//    }\nconst handleCheckGenreChange=event=>{const genre=JSON.parse(event.target.value);const isGenreChecked=event.target.checked;if(isGenreChecked){if(!checkedGenres.some(g=>g.id===genre.id)){setCheckedGenres([...checkedGenres,genre]);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.rowC,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.leftComp,children:/*#__PURE__*/_jsx(ScrollableSection,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.filterSection,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.genreFilter,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Genres\"}),genres.map((genre,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.checkboxContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:JSON.stringify(genre),checked:checkedGenres.some(elem=>elem[\"id\"]===JSON.parse(JSON.stringify(genre))[\"id\"]),onChange:event=>{handleCheckGenreChange(event);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"checkbox-\".concat(genre.id),children:genre.name})]},genre))]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.languageFilter,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Languages\"}),languages.map((language,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.checkboxContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:language,value:language,checked:checkedLanguage.includes(language),onChange:handleCheckLanguageChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:language,children:language})]},language))]}),/*#__PURE__*/_jsx(\"button\",{className:styles.searchButton,onClick:()=>setTrigRender(trigRender+1),children:\"Refresh Preferences\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:styles.rightComp,children:/*#__PURE__*/_jsx(ScrollableSection,{children:/*#__PURE__*/_jsx(SearchMovie,{genres:checkedGenres,languages:checkedLanguage},new Date().getTime())})})]})]});}export default Landing;","map":{"version":3,"names":["React","useState","Header","Navbar","Footer","MovieRecommender","RecommendedMovies","ScrollableSection","styles","SearchMovie","jsx","_jsx","jsxs","_jsxs","Landing","trigRender","setTrigRender","checkedGenres","setCheckedGenres","checkedLanguage","setCheckedLanguages","genres","globalThis","prefGen","undefined","Set","map","g","JSON","stringify","parse","languages","prefLang","handleCheckLanguageChange","event","value","checked","target","filter","item","handleCheckGenreChange","genre","isGenreChecked","some","id","children","className","rowC","leftComp","filterSection","genreFilter","index","checkboxContainer","type","elem","onChange","htmlFor","concat","name","languageFilter","language","includes","searchButton","onClick","rightComp","Date","getTime"],"sources":["/Users/stavkinreich/Desktop/Stav/CS520/COMPSCI520PROJECT3/frontend/src/pages/Landing.js"],"sourcesContent":["import React, {useState} from 'react';\nimport Header from '../components/Header/Header.js'\nimport Navbar from '../components/Navbar/Navbar.js'\nimport Footer from '../components/Footer/Footer.js'\nimport MovieRecommender from '../components/MovieRecommender/MovieRecommender.js'\nimport RecommendedMovies from './RecommendedMovies.js';\nimport ScrollableSection from '../components/ScrollableSection/ScrollableSection.js'\nimport styles from '../components/MovieRecommender/MovieRecommender.module.css';\nimport SearchMovie from './SearchMovie';\n//issue with category container currently- basically should be horizontally scrollable row, like on netflix\n\nfunction Landing() {\n  const [trigRender, setTrigRender] = useState(0);\n  const [checkedGenres, setCheckedGenres] = useState([]);\n  const [checkedLanguage, setCheckedLanguages] = useState([]);\n\n  const genres = globalThis.prefGen === null || globalThis.prefGen === undefined ? [] :\n                [...new Set(globalThis.prefGen.map(g => JSON.stringify(g)))].map(g => JSON.parse(g));\n  const languages = globalThis.prefLang === null || globalThis.prefLang === undefined ? [] :\n                    [...new Set(globalThis.prefLang)];\n\n  const handleCheckLanguageChange = (event) => {\n      const { value, checked } = event.target;\n      if (checked) {\n        setCheckedLanguages([...checkedLanguage, value]);\n      } else {\n        setCheckedLanguages(checkedLanguage.filter(item => item !== value));\n    };\n  };\n\n\n\n  // const arrayIncludesObject = (array, object) => array.some(item => isEqual(item, object));\n\n  // const handleCheckGenreChange = (event) => {\n  //    const checkedId = event.target.value;\n  //    if(event.target.checked){\n  //     setCheckedGenres([...checkedGenres, JSON.parse(checkedId)])\n  //    }else{\n  //     setCheckedGenres(checkedGenres.filter(id=> id[\"id\"] !== JSON.parse(checkedId)[\"id\"]))\n  //    }\n  //    }\n     \n  const handleCheckGenreChange = (event) => {\n    const genre = JSON.parse(event.target.value);\n    const isGenreChecked = event.target.checked;\n    if(isGenreChecked) {\n      if(!checkedGenres.some(g => g.id === genre.id)) {\n        setCheckedGenres([...checkedGenres, genre]);\n      }\n    }\n  }\n\n  return (\n      <div >\n        <Header/>\n        <div className={styles.rowC}>\n            <div className={styles.leftComp}>\n            <ScrollableSection>\n                <div className={styles.filterSection}>\n                    <div className={styles.genreFilter}>\n                        <h3>Genres</h3>\n                        {genres.map((genre, index) => (\n                            <div key={genre} className={styles.checkboxContainer}>\n                                <input\n                                   type=\"checkbox\"\n                                   value={JSON.stringify(genre)}\n                                   checked={checkedGenres.some(elem => elem[\"id\"] === JSON.parse(JSON.stringify(genre))[\"id\"])}\n                                   onChange={(event) => { handleCheckGenreChange(event) }}\n                                   />\n                                   <label htmlFor={`checkbox-${genre.id}`}>{genre.name}</label>\n                            </div>\n                            ))}\n                    </div>\n                    <div className={styles.languageFilter}>\n                        <h3>Languages</h3>\n                        {languages.map((language, index) => (\n                            <div key={language} className={styles.checkboxContainer}>\n                                <input type=\"checkbox\"\n                                id={language}\n                                value={language}\n                                checked={checkedLanguage.includes(language)}\n                                onChange={handleCheckLanguageChange} />\n                                <label htmlFor={language}>{language}</label>\n                            </div>\n                            ))}\n                    </div>\n                    <button className={styles.searchButton} onClick={() => setTrigRender(trigRender + 1)}>\n                                Refresh Preferences\n                    </button>\n                </div>\n            </ScrollableSection>\n            </div>\n            <div className={styles.rightComp}>\n            <ScrollableSection>\n                <SearchMovie\n                    key={new Date().getTime()}\n                    genres = {checkedGenres}\n                    languages = {checkedLanguage}\n                />\n            </ScrollableSection>\n            </div>\n        </div>\n      </div>\n  );\n}\n\nexport default Landing;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}