{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Navbar from'../components/Navbar/Navbar.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserLogin(){const navigate=useNavigate();const[userInfo,setUserInfo]=useState({email:'',password:''});const[exceptions,setExceptions]=useState({});const handleInfo=event=>{setUserInfo(before=>({...before,[event.target.name]:event.target.value}));};const handleSubmit=event=>{event.preventDefault();var request=new Request('http://localhost:3001/api/loginUser',{method:'POST',headers:new Headers({'Content-Type':'application/json'}),body:JSON.stringify(userInfo)});fetch(request).then(function(response){response.json().then(function(data){if(data.message===0){setExceptions({internal:\"internalError\"});}if(data.message===1){setExceptions({data:\"dataError\"});}if(data.message===2){setExceptions({validate:\"validateError\"});}if(data.message===3){console.log(data.retObj);globalThis.userName=userInfo.email;globalThis.prefLang=data.retObj.preflang;globalThis.prefMov=data.retObj.prefmov;globalThis.prefGen=data.retObj.prefgen;globalThis.prefMovId=data.retObj.prefmovid;navigate('/');}});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center vh-100\",style:{backgroundColor:\"#3E2751\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded w-25\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 text-center\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Email\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter Your Email\",className:\"form-control rounded-0\",onChange:handleInfo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 text-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter Your Password\",className:\"form-control rounded-0\",onChange:handleInfo})]}),exceptions.data&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"Email and/or password are not correct\"}),exceptions.internal&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"Internal Error\"}),exceptions.validate&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"User is not validated\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success w-100\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(Link,{to:\"/Register\",className:\"btn btn-default border w-100 bg-light text-decoration-none\",children:\"Not A User? Register Here\"})]})]})})]});}export default UserLogin;","map":{"version":3,"names":["React","useState","Link","useNavigate","Navbar","jsx","_jsx","jsxs","_jsxs","UserLogin","navigate","userInfo","setUserInfo","email","password","exceptions","setExceptions","handleInfo","event","before","target","name","value","handleSubmit","preventDefault","request","Request","method","headers","Headers","body","JSON","stringify","fetch","then","response","json","data","message","internal","validate","console","log","retObj","globalThis","userName","prefLang","preflang","prefMov","prefmov","prefGen","prefgen","prefMovId","prefmovid","children","className","style","backgroundColor","action","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["/Users/stavkinreich/Desktop/Stav/CS520/COMPSCI520PROJECT3/frontend/src/pages/UserLogin.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {Link, useNavigate} from 'react-router-dom';\nimport Navbar from '../components/Navbar/Navbar.js'\nfunction UserLogin() {\n    const navigate = useNavigate();\n    const [userInfo, setUserInfo] = useState({\n        email: '',\n        password: ''\n    });\n    const [exceptions, setExceptions] = useState({});\n    const handleInfo = (event) => {\n        setUserInfo(before => ({...before, [event.target.name]: event.target.value}))\n    }\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        var request = new Request('http://localhost:3001/api/loginUser', {\n                        method: 'POST',\n                        headers: new Headers({'Content-Type': 'application/json'}),\n                        body: JSON.stringify(userInfo)\n                    })\n                    fetch(request)\n                        .then(function(response) {\n                            response.json()\n                                .then(function(data) {\n                                    if(data.message === 0) {\n                                        setExceptions({internal: \"internalError\"});\n                                    }\n                                    if(data.message === 1) {\n                                        setExceptions({data: \"dataError\"});\n                                    }\n                                    if(data.message === 2) {\n                                        setExceptions({validate: \"validateError\"});\n                                    }\n                                    if(data.message === 3) {\n                                        console.log(data.retObj);\n                                        globalThis.userName = userInfo.email;\n                                        globalThis.prefLang = data.retObj.preflang;\n                                        globalThis.prefMov = data.retObj.prefmov;\n                                        globalThis.prefGen = data.retObj.prefgen;\n                                        globalThis.prefMovId = data.retObj.prefmovid;\n                                        navigate('/');\n                                    }\n                                });\n                        });\n    }\n  return (\n  <div>\n    <Navbar/>\n    <div className=\"d-flex justify-content-center align-items-center vh-100\" style={{backgroundColor: \"#3E2751\"}}>\n        <div className=\"bg-white p-3 rounded w-25\">\n        <h1 className=\"text-center\">Login</h1>\n            <form action=\"\" onSubmit={handleSubmit}>\n                <div className=\"mb-3 text-center\" onSubmit={handleSubmit}>\n                    <label htmlFor=\"email\"><strong>Email</strong></label>\n                    <input type=\"email\" name=\"email\" placeholder=\"Enter Your Email\" className=\"form-control rounded-0\" onChange={handleInfo}/>\n                </div>\n                <div className=\"mb-3 text-center\">\n                    <label htmlFor=\"password\"><strong>Password</strong></label>\n                    <input type=\"password\" name=\"password\" placeholder=\"Enter Your Password\" className=\"form-control rounded-0\" onChange={handleInfo}/>\n                </div>\n                {exceptions.data && <span className=\"text-danger\">Email and/or password are not correct</span>}\n                {exceptions.internal && <span className=\"text-danger\">Internal Error</span>}\n                {exceptions.validate && <span className=\"text-danger\">User is not validated</span>}\n                <button className=\"btn btn-success w-100\">Log In</button>\n                <p></p>\n                <Link to=\"/Register\" className=\"btn btn-default border w-100 bg-light text-decoration-none\">Not A User? Register Here</Link>\n            </form>\n        </div>\n    </div>\n  </div>\n  )\n}\n\nexport default UserLogin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}